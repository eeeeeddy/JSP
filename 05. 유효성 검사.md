# 유효성 검사

- **유효성 검사**
    
    사용자가 폼 화면을 통해 입력한 데이터 값이 특정 규칙에 적합하게 입력되었는지를 서버에 전송하기 전에 검증하는 절차
    
    - 유효성 검사 항목
        - 누락된 입력 데이터가 존재하는 지
        - 숫자와 문자에 대한 입력 오류
        - 날짜 또는 주민등록번호 형식에 맞는 지
        - 회원 가입 시 신청한 아이디의 중복 여부에 대한 확인
        - 로그인 과정에서 입력한 아이디와 비밀번호가 일치하는 지

- **핸들러 함수**
    - 폼 화면에서 `**submit**` 을 누르는 이벤트가 발생했을 때 유효성 검사를 위해 매핑하는 메소드
        
        ```html
        <script type="text/javascript">
        	function 핸들러 함수명( )
        	{
        			var 객체명 = document.폼 이름.입력항목 이름.value;
        	}
        </script>
        
        <form name="폼 이름">
        ... 생략 ...
        	<input type="submit" onclick="핸들러 함수명( )">
        </form>
        ```
        
        1. script 태그 안에서 function 명령으로 핸들러 함수를 생성
        (script 태그의 선언 위치는 무관)
        2. 핸들러 함수 안에는 **‘폼 이름.입력항목 이름’**의 속성을 지닌 객체를 생성
        3. form 태그 안에는 **name=”폼 이름”** 속성을 설정
        4. form 태그 안에서 submit을 누르는 이벤트가 발생하게 되면 onclick 속성을 이용하여 생성한 핸들러 함수를 호출
        <br><br>
- **데이터 검사**
    - 데이터 입력 여부 검사
        - 폼 화면에서 사용자가 아이디와 비밀번호 등 필수 입력 항목을 입력하지 않은 상태로
        - **‘전송하기’**를 누르게 되면 입력하지 않은 항목에 대한 오류 메시지를 출력
        - 입력 데이터의 여부를 검사하는 형식
        
        ```java
        document.폼 이름.입력 양식 이름.value==""
        ```
        
    - 데이터 길이 검사
        
        ```java
        document.폼 이름.입력 양식 이름.value.length
        ```
        
    - 데이터 판별(숫자)
        - 폼 화면에서 입력한 데이터가 숫자인지 판별할 때에는 **`isNaN( )`** 함수를 사용
        (숫자이면 **false**, 숫자가 아니면 **true** 반환)
        
        ```java
        isNaN(document.폼 이름.입력 양식 이름.value)
        ```
        
- **정규 표현식**
    - 폼 화면에서 데이터를 입력할 때 특정한 규칙을 가진 문자열의 집합을 표현하기 위해 사용하는 형식 언어
    - 주민등록번호, 이메일 등 특정 형식의 패턴이 일정한 데이터를 검사할 때 사용
    
    ```java
    //정규 표현식을 선언할 때에는 슬래시(/)로 묶어줌
    var 변수명 = /정규 표현식/;
    ```
    
    - 폼 화면에서 입력한 값에 대한 데이터 형식의 유효성을 검사할 때는 **`test( )`** 메소드 사용
    - Pattern 정규 표현식
        
        
        | 정규 표현식 | 의미 |
        | --- | --- |
        | ^s | 문자열을 s로 시작 |
        | \d* 또는 ^[0-9]*$ | 숫자만 허용 |
        | ^[a-zA-Z]*$ | 영문 대/소문자만 허용 및 공백 허용 X |
        | ^[a-zA-Z\s]$ | 영문 대/소문자, 띄어쓰기, 공백 허용 |
        | ^[a-zA-Z0-9]*$ | 숫자와 영문 대/소문자만 허용 |
        | ^[가-힣]*$ | 한글 형식으로만 허용 |
        | ^[a-z|A-Z|ㄱ-ㅎ|ㅏ-ㅣ|가-힣] | 문자 형식으로만 허용 |
        | ^\d{3}\-\d{5} | 123-12345 형식으로 허용 |
        | \d{6}\-[1-4]\d{6} | 주민등록번호 입력 형식 |
        | /^[\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.*\w[\w-]{0,66}\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i | 이메일 형식 <br> 코딩할 때 정규 표현식은 모두 한 행에 입력해야하며, 끝에 붙는 알파벳 i는 문자열의 알파벳 대/소문자를 구별하지 않고 검출할 때 선언 |
        | ^(?=.*[A-Za-z])(?=.*\d_(?=.*[$@$!%*#?&])[A-Za-z\d$@$!%*#?&]{8,16}$ | 암호 유효성 검사 <br> 8자리~16자리 숫자, 영문, 특수 문자 1개 이상을 포함하여 허용 |